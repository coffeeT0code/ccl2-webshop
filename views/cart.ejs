<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Mulish&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="../global.css">
    <link rel="stylesheet" href="../item.css">
    <link rel="stylesheet" href="../cart.css">
    <title>AESTHETICALLY | Cart</title>
</head>
<body>
<nav>
    <div class="nav-main">
        <div class="heading">AESTHETICALLY</div>
        <div class="navBar">
            <a href="/" class="nav-btn" id="home">Home</a>
            <a href="/book" class="nav-btn">Photography</a>
            <a href="/shop" class="nav-btn">Art</a>
            <a href="/404" class="nav-btn">Jewellery</a>
            <a href="/404" class="nav-btn">Collections</a>
            <a href="/404" class="nav-btn">
                <svg width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16.1758 16.5002C15.8273 16.0717 15.1975 16.0069 14.769 16.3553C14.3406 16.7038 14.2757 17.3337 14.6242 17.7621L16.1758 16.5002ZM21.0242 25.631C21.3727 26.0594 22.0025 26.1243 22.431 25.7758C22.8594 25.4273 22.9243 24.7975 22.5758 24.369L21.0242 25.631ZM18.4 10.0492C18.4 14.4791 14.7444 18.0984 10.2 18.0984V20.0984C15.8177 20.0984 20.4 15.6147 20.4 10.0492H18.4ZM10.2 18.0984C5.65562 18.0984 2 14.4791 2 10.0492H0C0 15.6147 4.58234 20.0984 10.2 20.0984V18.0984ZM2 10.0492C2 5.61926 5.65562 2 10.2 2V0C4.58234 0 0 4.48365 0 10.0492H2ZM10.2 2C14.7444 2 18.4 5.61926 18.4 10.0492H20.4C20.4 4.48365 15.8177 0 10.2 0V2ZM14.6242 17.7621L21.0242 25.631L22.5758 24.369L16.1758 16.5002L14.6242 17.7621Z" fill="white"/>
                </svg>
            </a>
        </div>
    </div>
</nav>



<% for (let i=0; i < itemsInCart.length; i++) {%>
    <%= console.log(itemsInCart[i].cart_id)%>
            <div class="item-wrapper">
                <button class="delete" type="submit" onclick="onDelete(<%= itemsInCart[i].cart_id %>)">Delete</button>
                <div class="data-wrapper">
                    <div id="item-title" class="item-data"><%= itemsInCart[i].itemTitle%></div>
                    <div class="item-data"><%= itemsInCart[i].description%></div>
                    <div id="price" class="item-data"><%= itemsInCart[i].price%>â‚¬</div>
                    <div class="item-data">Size: <%= itemsInCart[i].size%> cm</div>
                    <div class="item-data">Material: <%= itemsInCart[i].material%></div>
                </div>
                <img class="item-data" src="/img/<%= itemsInCart[i].img%>">
        </div>
    <hr>

<% }%>

<script>
    async function onDelete(itemsInCart) {
        let answer = confirm('Are you sure?')

        if (answer) {
            fetch('/shop/cart/' + 'delete/' + itemsInCart)
            .catch(err => console.log(err))
            window.location.href = '/shop/cart';
        }
    }
</script>
</body>
</html>
